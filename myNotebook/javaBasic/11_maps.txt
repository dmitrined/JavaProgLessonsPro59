### Map (–ö–∞—Ä—Ç–∞ / –°–ª–æ–≤–∞—Ä—å) –≤ Java

`Map` ‚Äî —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ –ø–∞—Ä "–∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–∏–µ". –ö–ª—é—á–∏ –≤ `Map` –≤—Å–µ–≥–¥–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã, —Ç–æ–≥–¥–∞ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è. `Map` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Collection`, —Ö–æ—Ç—è –∏ –≤—Ö–æ–¥–∏—Ç –≤ Java Collections Framework.

#### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Map:
*   `put(K key, V value)` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–∞—Ä—É "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ". –ï—Å–ª–∏ –∫–ª—é—á —É–∂–µ –µ—Å—Ç—å, –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ `null`.
*   `get(K key)` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –∏–ª–∏ `null`, –µ—Å–ª–∏ –∫–ª—é—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
*   `containsKey(K key)` / `containsValue(V value)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–∞ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è.
*   `remove(K key)` ‚Äî —É–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ –∫–ª—é—á—É.
*   `size()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä –≤ –∫–∞—Ä—Ç–µ.
*   `isEmpty()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É.
*   `clear()` ‚Äî —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã.
*   `keySet()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Set` –≤—Å–µ—Ö –∫–ª—é—á–µ–π.
*   `values()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Collection` –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
*   `entrySet()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Set` –æ–±—ä–µ–∫—Ç–æ–≤ `Map.Entry<K, V>` (–ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ).
*   `forEach((k, v) -> ...)` (Java 8+) ‚Äî –ø–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

#### üîπ –í—ã–±–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Map:

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | HashMap | LinkedHashMap | TreeMap |
| :--- | :--- | :--- | :--- |
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞** | –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ | –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ + —Å–ø–∏—Å–æ–∫ | –ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ |
| **–ü–æ—Ä—è–¥–æ–∫** | –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è | –ü–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏ | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–ª—é—á—É |
| **–°–∫–æ—Ä–æ—Å—Ç—å (get/put)** | O(1) | O(1) | O(log n) |
| **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏** | –°–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ | –ê–≤—Ç–æ-—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ |

#### üîπ TreeMap –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å NavigableMap
`TreeMap` —Ä–µ–∞–ª–∏–∑—É–µ—Ç `SortedMap` –∏ `NavigableMap`, —á—Ç–æ –¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:**
*   `firstKey()` / `lastKey()` ‚Äî –ø–µ—Ä–≤—ã–π –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–ª—é—á–∏.
*   `firstEntry()` / `lastEntry()` ‚Äî –ø–µ—Ä–≤–∞—è –∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å–∏.
*   `higherKey(K key)` / `lowerKey(K key)` ‚Äî –±–ª–∏–∂–∞–π—à–∏–π –∫–ª—é—á —Å—Ç—Ä–æ–≥–æ –±–æ–ª—å—à–µ/–º–µ–Ω—å—à–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ.
*   `ceilingKey(K key)` / `floorKey(K key)` ‚Äî –±–ª–∏–∂–∞–π—à–∏–π –∫–ª—é—á >= –∏–ª–∏ <= –∑–∞–¥–∞–Ω–Ω–æ–º—É.

**–†–∞–±–æ—Ç–∞ —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏:**
*   `subMap(from, to)` ‚Äî —á–∞—Å—Ç—å –∫–∞—Ä—Ç—ã –æ—Ç `from` (–≤–∫–ª.) –¥–æ `to` (–∏—Å–∫–ª.).
*   `headMap(to)` ‚Äî –≤—Å–µ –∫–ª—é—á–∏ –º–µ–Ω—å—à–µ `to`.
*   `tailMap(from)` ‚Äî –≤—Å–µ –∫–ª—é—á–∏ –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω—ã `from`.

**–ò–Ω–≤–µ—Ä—Å–∏—è:**
*   `descendingMap()` ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

#### üîπ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ List –≤ Map (Stream API)

**1. Collectors.toMap()**
```java
Map<Integer, String> map = list.stream()
    .collect(Collectors.toMap(
        Item::getId,           // keyMapper
        Item::getName,         // valueMapper
        (oldV, newV) -> oldV,  // mergeFunction (–ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏)
        LinkedHashMap::new     // mapSupplier (–¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞)
    ));
```

**2. Collectors.groupingBy() (–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞)**
–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—é. –†–µ–∑—É–ª—å—Ç–∞—Ç: `Map<K, List<T>>`.
```java
// –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ª—é–¥–µ–π –ø–æ –≥–æ—Ä–æ–¥–∞–º
Map<String, List<Person>> peopleByCity = people.stream()
    .collect(Collectors.groupingBy(Person::getCity));

// –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
Map<String, Long> countByCity = people.stream()
    .collect(Collectors.groupingBy(Person::getCity, Collectors.counting()));
```

**3. Collectors.partitioningBy() (–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ)**
–†–∞–∑–¥–µ–ª—è–µ—Ç –ø–æ—Ç–æ–∫ –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏ –ø–æ —É—Å–ª–æ–≤–∏—é (true/false). –†–µ–∑—É–ª—å—Ç–∞—Ç: `Map<Boolean, List<T>>`.
```java
// –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–¥–∞–≤—à–∏—Ö –∏ –Ω–µ —Å–¥–∞–≤—à–∏—Ö
Map<Boolean, List<Student>> passedOrFailed = students.stream()
    .collect(Collectors.partitioningBy(s -> s.getGrade() >= 50));
```

üí° **–í–∞–∂–Ω–æ:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `groupingBy` –∏ `partitioningBy` –∏—Å–ø–æ–ª—å–∑—É—é—Ç `HashMap`. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ç–∏–ø –∫–∞—Ä—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Å `mapSupplier`.
